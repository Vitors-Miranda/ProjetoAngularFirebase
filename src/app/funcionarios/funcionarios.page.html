<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-row class="ion-justify-content-start ion-align-items-center">
      <ion-col size="2">
        <ion-title>Funcionários</ion-title>
      </ion-col>
      <ion-col size="2">
        <ion-button (click)="openModal(true, null)">Inserir Funcionário</ion-button>
      </ion-col>
      <ion-col size="2">
        <ion-toast [isOpen]="isToastOpen" trigger="open-toast" message="Nenhum registro encontrado." [duration]="5000"
          (didDismiss)="setToastOpen(false)"></ion-toast>
      </ion-col>
    </ion-row>
  </ion-toolbar>

  <ion-row class="ion-justify-content-center">
    <ion-modal [isOpen]="isModalOpen">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-buttons>
              <ion-button (click)="openModal(false, null)"><ion-icon
                  name="close-circle-outline"></ion-icon></ion-button>
            </ion-buttons>
          </ion-toolbar>
          <ion-title class="ion-padding ion-text-center">{{ this.action }} Funcionario</ion-title>
        </ion-header>
        <ion-content [fullscreen]="true">

          <form (submit)="inserirFuncionario($event)">
            <ion-row>
              <ion-col>
                <ion-input #input [(ngModel)]="form.nome" placeholder="Nome" name="nome"></ion-input>
              </ion-col>
              <ion-col>
                <ion-input #input [(ngModel)]="form.sobrenome" placeholder="Sobrenome" name="sobrenome"></ion-input>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col>
                <ion-input #input [(ngModel)]="form.cargo" placeholder="Cargo" name="cargo"></ion-input>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col>
                <ion-input type="date" #input [(ngModel)]="form.dataNasc" placeholder="Data de Nascimento"
                  name="dataNasc"></ion-input>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col>
                <ion-input #input [(ngModel)]="form.endereco" placeholder="Endereço" name="endereco"></ion-input>
              </ion-col>
              <ion-col>
                <ion-input #input [(ngModel)]="form.cidade" placeholder="Cidade" name="cidade"></ion-input>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col>
                <ion-input #input [(ngModel)]="form.cep" placeholder="CEP" name="cep"></ion-input>
              </ion-col>
              <ion-col>
                <ion-input #input [(ngModel)]="form.pais" placeholder="País" name="pais"></ion-input>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col>
                <ion-input #input [(ngModel)]="form.fone" placeholder="Telefone" name="fone"></ion-input>
              </ion-col>
              <ion-col>
                <ion-input #input [(ngModel)]="form.salario" placeholder="Salario" name="salario"></ion-input>
              </ion-col>
            </ion-row>

            <ion-row class="ion-justify-content-center">
              <ion-col>
                <ion-button type="submit">Enviar</ion-button>
              </ion-col>
            </ion-row>
          </form>

        </ion-content>
      </ng-template>
    </ion-modal>
    <ion-col size="3">
      <ion-input #input [(ngModel)]="searchWord" placeholder="Pesquisar" name="pesquisar"
        (keyup)="pesquisar()"></ion-input>
    </ion-col>
    <ion-col size="7" ion-justify-content-center>
      <ion-radio-group [(ngModel)]="opcao">
        <ion-radio color="success" class="ion-margin" value="nome">Nome</ion-radio>
        <ion-radio color="success" class="ion-margin" value="cargo">Cargo</ion-radio>
        <ion-radio color="success" class="ion-margin" value="cidade">Cidade</ion-radio>
        <ion-radio color="success" class="ion-margin" value="fone">Telefone</ion-radio>
      </ion-radio-group>
    </ion-col>
  </ion-row>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-row class="ion-justify-content-center">
    <ion-col size="10">
      <ion-list>
        <ion-item class="ion-text-center">
          <ion-label>#</ion-label>
          <ion-label>Nome</ion-label>
          <ion-label>Sobrenome</ion-label>
          <ion-label>Cidade</ion-label>
          <ion-label>Fone</ion-label>
          <ion-label>Cargo</ion-label>
          <ion-label>Data de Nascimento</ion-label>
          <ion-label>Endereço</ion-label>
          <ion-label>CEP</ion-label>
          <ion-label>País</ion-label>
          <ion-label>Salário</ion-label>
          <ion-label>Configurar</ion-label>
        </ion-item>
        <ng-container *ngFor="let funcionario of this.funcionarios">
          <ion-item class="ion-text-center">
            <ion-label> {{ funcionario.CodFun }} </ion-label>
            <ion-label> {{ funcionario.Nome }} </ion-label>
            <ion-label> {{ funcionario.Sobrenome }} </ion-label>
            <ion-label> {{ funcionario.Cidade }} </ion-label>
            <ion-label> {{ funcionario.Fone }} </ion-label>
            <ion-label> {{ funcionario.Cargo }} </ion-label>
            <ion-label> {{ funcionario.DataNasc }} </ion-label>
            <ion-label> {{ funcionario.Endereco }} </ion-label>
            <ion-label> {{ funcionario.CEP }} </ion-label>
            <ion-label> {{ funcionario.Pais }} </ion-label>
            <ion-label> {{ funcionario.Salario }} </ion-label>
            <ion-button class="ion-margin-end " (click)="openModal(true, funcionario.CodFun) " color="warning"><ion-icon
                name="pencil-outline"></ion-icon></ion-button>
            <ion-button (click)="removerFuncionario(funcionario.CodFun)" color="danger"><ion-icon
                name="trash-outline"></ion-icon></ion-button>
          </ion-item>
        </ng-container>
      </ion-list>
    </ion-col>
  </ion-row>
</ion-content>